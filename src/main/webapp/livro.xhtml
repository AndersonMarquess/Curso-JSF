<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<h:body>
		<h:form>
			<fieldset>
				<legend>Dados do livro</legend>
				<h:panelGrid columns="2">
					<h:outputLabel value="Título: " for="titulo"/>
					<h:inputText id="titulo" value="#{livroBean.livro.titulo}"/>
					
					<h:outputLabel value="ISBN: " for="isbn"/>
					<h:inputText id="isbn" value="#{livroBean.livro.isbn}"/>
					
					<h:outputLabel value="Preço: " for="preco"/>
					<h:inputText id="preco" value="#{livroBean.livro.preco}"/>
					
					<h:outputLabel value="Data de lançamento: " for="lancamento"/>
					<!-- value=#{} faz o binding de input com o atributo presente no livro -->
					<h:inputText id="lancamento" value="#{livroBean.livro.dataLancamento}"/>
				</h:panelGrid>
			</fieldset>

			<fieldset>
				<legend>Dados do Autor</legend>
				<h:outputLabel value="Selecionar Autor" for="autor"/>
				<h:selectOneMenu id="autor" value="#{livroBean.autorId}">
					<f:selectItems value="#{livroBean.autores}" var="autor" itemLabel="#{autor.nome}" itemValue="#{autor.id}"/>				
				</h:selectOneMenu>
				<h:commandButton value="Gravar Autor" action="#{livroBean.gravarAutor}"/>
				
				<h:dataTable value="#{livroBean.autoresDoLivro}" var="autor">
					<h:column>
						<h:outputText value="#{autor.nome}"/>
					</h:column>
				</h:dataTable>
			</fieldset>
			
			<!-- action=#{} Chama o método gravar da classe LivroBean -->
			<h:commandButton value="Salvar" action="#{livroBean.gravar}"/>
		</h:form>
	</h:body>

</html>